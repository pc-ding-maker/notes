# 移动端Web
------
## 常用单位
### 像素(px)
+ 在前端开发中视口的水平方向和垂直方向是由很多小方格组成的, 一个小方格就是一个像素

##### 特点：
+ 不会随着视口大小的变化而变化, 像素是一个固定的单位(绝对单位)

#### 物理像素:
+ "物理屏幕"上真实存在的发光点，只有屏幕一经出厂就固定不会改变

#### 逻辑像素：
+ CSS像素又称为逻辑像素，是编程世界中虚拟的东西, 我们通过代码设置的像素都是逻辑像素

	
	
		例如: iPhone3G/iPhone3GS 3.5英寸/ 逻辑像素320*480 / 设备像素320*480
              iPhone4/4S         3.5英寸/ 逻辑像素320*480 / 设备像素640*960
#### 设备像素比DPR(Device Pixel Ratio)
+ pc端中固定为一
+ 移动端中不固定
<br>


### 百分比(%)
+ 百分比是前端开发中的一个动态单位, 永远都是以当前元素的父元素作为参考进行计算
+ 百分比是一个动态的单位, 会随着父元素宽高的变化而变化(相对单位)


##### 特点：
1. 子元素的宽度参考父元素的宽度来计算
2. 子元素的高度参考父元素的高度来计算
3. 子元素`padding`无论是水平还是垂直方向都是参考父元素宽度计算的
4. 子元素`margin`无论是水平还是垂直方向都是参考父元素宽度计算的
5. `borde`不能用百分比设置
<br>

### em
+ em是前端开发中的一个动态单位, 是一个相对于元素字体大小的单位
+ 例如:`font-size: 12px;`,那么1em就等于12px

##### 特点:
1. 当前元素设置了字体大小, 那么就相对于当前元素的字体大小
2. 当前元素没有设置字体大小, 那么就相当于第一个设置字体大小的祖先元素的字体大小
3. 如果当前元素和所有祖先元素都没有设置大小, 那么就相当于浏览器默认的字体大小

<br>

### rem
+ rem就是root em, 和em是前端开发中的一个动态单位

#### `rem`与`em`的区别:
+ `rem`和`em`的区别在于, `rem`是一个相对于根元素字体大小的单位
+ 例如 根元素(html) `font-size: 12px;` ,那么`1em`就等于`12px`

##### 特点:
1. 除了根元素以外, 其它祖先元素的字体大小不会影响rem尺寸
2. 如果根元素设置了字体大小, 那么就相对于根元素的字体大小
3. 如果根元素没有设置字体大小, 那么就相对于浏览器默认的字体大小
<br>

### vw和vh
+ vw和vh是前端开发中的一个动态单位, 是一个相对于网页视口的单位
+ 系统会将视口的宽度和高度分为100份,1vw就占用视口宽度的百分之一, 1vh就占用视口高度的百分之一

##### vw和vh与百分比的区别:
+ 百分比永远都是以父元素作为参考
    而vw和vh永远都是以视口作为参考

<br>

### vmin和vmax
+ vmin: vw和vh中较小的那个
+ vmax: vw和vh中较大的那个

##### 适用场景:
+ 保证移动开发中屏幕旋转之后尺寸不变

## 视口：
+ 简单的说可视区域就称为视口
+ 在pc端视口的大小就是浏览器可视区域的大小
+ 在移动端视口的大小并不等于窗口的大小，移动端视口宽度为固定值(980)

#### 移动端视口固定宽度带来的问题:
+ 由于移动端的物理尺寸(设备宽度)是远远小于视口宽度的
    所以为了能够在较小的范围内看到视口中所有的内容, 那么就必须将内容缩小

#### `<meta name="viewport" content="width=device-width, initial-scale=1.0">`含义：
	width=device-width 设置视口宽度等于设备的宽度
    initial-scale=1.0 初始缩放比例, 1不缩放
    maximum-scale：允许用户缩放到的最大比例
    minimum-scale：允许用户缩放到的最小比例
    user-scalable：用户是否可以手动缩放


## 移动端适配:
### 方案一：通过媒体查询
+ 它主要是通过查询设备的宽度来执行不同的css代码，最终达到界面的配置

### 优点:
1. 调整屏幕宽度的时候不用刷新页面即可响应式展示

### 缺点:
1. 代码量比较大，维护不方便
2. 为了兼顾大屏幕或高清设备，会造成其他设备资源浪费，特别是加载图片资源
3. 为了兼顾移动端和PC端各自响应式的展示效果，难免会损失各自特有的交互方式

### 适用场景;
+ 简单(界面不复杂)的网页, 诸如: 企业官网、宣传单页等

### 方案二: 媒体查询 + rem

+ 当下在企业开发中设计师提供给我们的移动端设计图片是750 * xxx的或者1125 * xxx的
所以我们需要对设计师提供的图片进行等比缩放, 这样才能1:1还原设计图片

###### 如何等比缩放:
	将设计图片等分为指定份数,求出每一份的大小
    	例如: 750设计图片分为7.5份, 那么每一份的大小就是100px
    将目标屏幕也等分为指定份数,求出每一份的大小
    	例如: 375屏幕也分为7.5份, 那么每一份的大小就是50px

##### 等比缩放公式:

`原始元素尺寸 / 原始每一份大小 * 目标屏幕每一份大小 = 等比缩放后的尺寸`

##### 公式应用:
1. 通过媒体查询规定每一种适配屏幕`html`的`font-size`(目标屏幕每一份的大小)
2. 使用时只需要用 "原始元素尺寸 / 原始每一份大小rem" 即可
	+ 例如: `80/100rem`


### 方案三: 通过js代码来动态设置font-size
#### 代码：
`document.documentElement.style.fontSize = window.innerWidth / 份数 + "px";`

#### 优点:
+ 不用写很多的媒体查询

#### 缺点:
+ 切换了屏幕尺寸之后需要刷新界面才有效

### 像素比DPR带来的问题：
+ 在1个CSS个像素等于1个物理像素的手机上, 我们设置1个CSS像素只会占用1个物理像素
    而在1个CSS个像素不等于1个物理像素的手机上, 我们设置1个CSS像素就会占用2个物理像素
    所以仔细观察你会发现同样是1像素但是在retina视网膜屏幕的手机上会粗一些

##### 解决方案:
+ 通过 `<meta name="viewport">`的`initial-scale`属性来缩小

```javascript
let scale = 1.0 / window.devicePixelRatio;
let text = `<meta name="viewport" content="width=device-width, initial-scale=${scale}, maximum-scale=${scale}, minimum-scale=${scale}, user-scalable=no">`;
document.write(text);
```

